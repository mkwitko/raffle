<app-header></app-header>
<ion-content>
    <ion-list>
        <ng-container *ngFor="let item of solicitation.get()">
            <ion-card>
                <ion-card-header>
                    <ion-card-subtitle>Liberação das rifas de número {{item.ticketsInitial}} até {{item.ticketsFinal}}</ion-card-subtitle>
                    <ion-card-title>{{item.name}}</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                    <ion-grid fixed>
                        <ion-row *ngIf="edit">
                            <ion-col size="6">
                                <ion-item>
                                    <ion-label position="floating">Número inicial</ion-label>
                                    <ion-input [(ngModel)]="item.ticketsInitial" (ionChange)="changeIni($event, item.id)" type="number" placeholder="Ticket Inicial"></ion-input>
                                </ion-item>
                            </ion-col>
                            <ion-col size="6">
                                <ion-item>
                                    <ion-label position="floating">Número final</ion-label>
                                    <ion-input [(ngModel)]="item.ticketsFinal" (ionChange)="changeFinal($event, item.id)" type="number" placeholder="Ticket Final"></ion-input>
                                </ion-item>
                            </ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col size="4">
                                <ion-button (click)="accept(item.id)" expand="block">
                                    Aceitar
                                </ion-button>
                            </ion-col>
                            <ion-col size="4">
                                <ion-button (click)="reject(item.id)" expand="block">
                                    Rejeitar
                                </ion-button>
                            </ion-col>
                            <ion-col size="4">
                                <ion-button *ngIf="!edit" (click)="editar()" expand="block">
                                    Editar
                                </ion-button>
                                <ion-button *ngIf="edit" (click)="save()" expand="block">
                                    Fechar Edição
                                </ion-button>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-card-content>
            </ion-card>
        </ng-container>
    </ion-list>
</ion-content>